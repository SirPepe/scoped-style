window.ScopedStyle=window.ScopedStyle||function(){"use strict";function e(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function t(){return"scope-"+Math.random().toString(36).slice(2)+"-"+Date.now()}function r(e){for(var t=[],r=0,n=!1,c=0;c<e.length;c++)"undefined"==typeof t[r]&&(t[r]=""),","===e[c]&&n===!1?r++:(['"',"'"].indexOf(e[c])!==-1&&(n===!1?n=e[c]:n===e[c]&&(n=!1)),t[r]+=e[c]);return t.map(Function.prototype.call.bind(String.prototype.trim))}function n(e,t){var r=e.querySelectorAll(t);return[].filter.call(r,function(t){return t.parentNode===e})}function c(e,t){return r(e).map(function(r){return e.match(u)?"."+t+r.replace(u,""):"."+t+" "+r}).join(",")}function o(t,r){var n=new RegExp("^\\s*"+e(t.selectorText)),o=t.cssText.replace(n,""),a=c(t.selectorText,r);return a+o}function a(e,t){for(var r=e.cssRules,n=0;n<r.length;n++)switch(r[n].type){case 1:var c=o(r[n],t);e.deleteRule(n),e.insertRule(c,n);break;case 4:a(r[n],t)}}function l(e,t){[].forEach.call(e.classList,function(t){if(t.match(i)){var r=n(e,'[data-scope="'+t+'"]');0===r.length&&e.classList.remove(t)}}),e.classList.add(t)}var i=/\bscope-[a-z0-9]*-[0-9]*\b/,u=/(?:^|\s|\n|\W)*-x-scope\b/;return document.registerElement("scoped-style",{extends:"style",prototype:Object.create(window.HTMLStyleElement.prototype,{attachedCallback:{value:function(){var e=this;setTimeout(function(){var r=t();e.setAttribute("data-scope",r),a(e.sheet,r),l(e.parentNode,r)},0)}},escapeRegExp:{value:e},createScope:{value:t},splitSelector:{value:r},findChildren:{value:n},rewriteSelector:{value:c},rewriteRule:{value:o},rewriteRules:{value:a},setScope:{value:l}})})}();
//# sourceMappingURL=scoped-style.min.js.map